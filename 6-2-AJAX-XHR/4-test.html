<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GitHub í”„ë¡œí•„ ì¡°íšŒ</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      background-color: #f5f5f5;
    }
    #search-container {
      margin-top: 20px;
    }
    #profile {
      margin-top: 20px;
      padding: 20px;
      width: 300px;
      border: 1px solid #ddd;
      border-radius: 10px;
      background-color: #fff;
    }
    #repos {
      margin-top: 10px;
      width: 300px;
    }
    .repo-item {
      padding: 10px;
      margin-bottom: 5px;
      border-radius: 5px;
      background-color: #e9e9e9;
    }
  </style>
</head>
<body>

  <div id="search-container">
    <input type="text" id="username" placeholder="GitHub ì‚¬ìš©ì ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" />
    <button id="searchButton">ì¡°íšŒ</button>
  </div>

  <div id="profile"></div>
  <div id="repos"></div>

  <script>
    const searchButton = document.getElementById('searchButton');
    const profileContainer = document.getElementById('profile');
    const reposContainer = document.getElementById('repos');

    searchButton.addEventListener('click', async () => {
      const username = document.getElementById('username').value.trim();
      if (!username) return alert('ì‚¬ìš©ì ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.');

      // GitHub API ìš”ì²­ í•¨ìˆ˜
      async function fetchGitHubUser(username) {
        try {
          // ì‚¬ìš©ì í”„ë¡œí•„ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
          const profileResponse = await fetch(`https://api.github.com/users/${username}`);
          if (!profileResponse.ok) throw new Error('ì‚¬ìš©ì ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
          const profileData = await profileResponse.json();
          console.log(profileData);
          
          displayProfile(profileData);

          // ì‚¬ìš©ì ì €ì¥ì†Œ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
          const reposResponse = await fetch(`https://api.github.com/users/${username}/repos`);
          if (!reposResponse.ok) throw new Error('ì €ì¥ì†Œ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
          const reposData = await reposResponse.json();
          console.log(reposData);
          
          displayRepos(reposData);

        } catch (error) {
          alert(error.message);
        }
      }

      // í”„ë¡œí•„ ì •ë³´ í‘œì‹œ í•¨ìˆ˜
      function displayProfile(data) {
        profileContainer.innerHTML = `
          <img src="${data.avatar_url}" alt="${data.login}" width="80" height="80" style="border-radius: 50%;">
          <h2>${data.name || data.login}</h2>
          <p>íŒ”ë¡œì›Œ: ${data.followers} | íŒ”ë¡œì‰: ${data.following}</p>
          <p><a href="${data.html_url}" target="_blank">GitHub í”„ë¡œí•„ ë³´ê¸°</a></p>
        `;
      }

      // ì €ì¥ì†Œ ëª©ë¡ í‘œì‹œ í•¨ìˆ˜
      function displayRepos(repos) {
        reposContainer.innerHTML = '<h3>ì €ì¥ì†Œ ëª©ë¡</h3>';
        repos.forEach(repo => {
          const repoElement = document.createElement('div');
          repoElement.classList.add('repo-item');
          repoElement.innerHTML = `
            <strong><a href="${repo.html_url}" target="_blank">${repo.name}</a></strong>
            <p>â­ ${repo.stargazers_count} | ğŸ´ ${repo.forks_count}</p>
          `;
          reposContainer.appendChild(repoElement);
        });
      }

      // ì‚¬ìš©ì ì •ë³´ ìš”ì²­
      await fetchGitHubUser(username);
    });
  </script>

</body>
</html>
